var MBBUser=new Class({Extends:MBBall,initialize:function(h,g,a,e){this.parent(a);var f=$("registration");if(f){f.getElementById("register").addEvent("submit",function(j){j.stop();if(typeof(ga)==="function"){ga("send","pageview","/football/register/submit")}if(confirm(e.register)){if(typeof(ga)==="function"){ga("send","pageview","/football/register/agree")}var i=new MBB.req("register.php",function(k){if(typeof(ga)==="function"){ga("send","pageview","/football/register/registered")}window.location.reload(true)});i.post($("register"))}})}if(h){this.teams=new Object({});this.lastpick=new Object({});var c=$$(".ppick");var d=this;c.each(function(i){if(i.checked){d.teams[i.value]=i;d.lastpick[i.name]=i}});c.addEvent("change",function(k){k.stop();var j=d.lastpick[this.name];if(d.teams[this.value]!=undefined){var i=d.teams[this.value];i.getParent().highlight("#F00");this.checked=false;if(j){j.checked=true}}else{d.teams[this.value]=this;if(j){delete d.teams[j.value]}delete d.lastpick[this.name];d.lastpick[this.name]=this}});var b=$("make_picks");if(b){b.addEvent("click",function(l){l.stop();var m=true;var k=$("answer");if(k){if(!MBB.intValidate(k)){m=false;k.value=""}}var i=new MBB.req("createpicks.php",function(o){if(m){if(typeof(ga)==="function"){ga("send","pageview","/football/picks/made")}window.location.reload(true)}else{if(typeof(ga)==="function"){ga("send","pageview","/football/picks/error-bonus")}$("bonus_pick").getElement("textarea").value=e.noquestion}});i.post($("pick"));if(m){var j=$("content");j.getElement("table").destroy();var n=new Element("div",{"class":"loading"});n.inject(j)}});if($("emoticons")){this.emoticon=new MBB.emoticon($("emoticons"),$("registered").getElements("textarea"))}}}},checkReg:function(){}});